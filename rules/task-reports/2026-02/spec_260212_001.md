# Spec 260212_001: News Pull Endpoint (MinSpec)

## 1. 概述
新增最小可用的 News Pull 接口，用于触发或获取新闻拉取状态。
本期仅实现本地 Mock 数据，不连接真实外网 Provider。

## 2. 接口定义

### GET /news/pull

**功能**: 模拟拉取新闻并返回处理统计。

**参数**:
| 参数名 | 类型 | 必选 | 默认值 | 说明 |
| :--- | :--- | :--- | :--- | :--- |
| `limit` | integer | 否 | 20 | 拉取条数上限，最大 50。 |
| `since` | string | 否 | null | 起始时间 (ISO string)，当前版本仅占位，不生效。 |
| `sim_error` | boolean | 否 | false | **仅供测试**：设为 true 时强制返回错误。 |

**返回 (Success)**:
遵循 `contracts/news_pull_response.schema.json` 的 "Success Response"。

```json
{
  "status": "ok",
  "provider_used": "local",
  "fallback": false,
  "cached": false,
  "cache_key": "mock_cache_key_...",
  "inserted_count": 20,
  "deduped_count": 0,
  "fetched_count": 20,
  "written_count": 20,
  "request": {
    "provider": "local",
    "topic_key": "MOCK_TOPIC",
    "query": "",
    "timespan": "1d",
    "maxrecords": 20
  }
}
```

**返回 (Error)**:
遵循 `contracts/news_pull_response.schema.json` 的 "Error Response"。

Example (Limit exceeded):
```json
{
  "status": "error",
  "code": "INVALID_LIMIT",
  "message": "Limit cannot exceed 50",
  "request": { "limit": 60 }
}
```

## 3. 边界条件
*   `limit` > 50: 返回 400 Error。
*   `sim_error=true`: 返回 500 Error。

## 4. 不做项
*   不连接真实 Provider (GDELT/Google)。
*   不持久化到 SQLite (Mock 模式)。
*   不提供 UI。
